<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Crypto Pulse</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans">
    <!-- Header -->
    <header class="bg-gray-800 p-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold">Crypto Pulse</h1>
    </header>

    <!-- Main Content -->
    <main class="p-6 max-w-6xl mx-auto">
        <!-- Prices Table -->
        <section class="mb-8">
            <h2 class="text-xl font-semibold mb-4">Live Prices</h2>
            <div class="grid grid-cols-2 gap-4 bg-gray-800 p-4 rounded-lg">
                <div class="font-bold text-gray-300">Coin</div>
                <div class="font-bold text-gray-300">Price (USD)</div>
                {% for coin, data in prices.items() %}
                    <div>{{ coin.capitalize() }}</div>
                    <div>${{ data['usd'] | round(2) }}</div>
                {% endfor %}
            </div>
        </section>

        <!-- Portfolio Section -->
        <section>
            <h2 class="text-xl font-semibold mb-4">Your Portfolio</h2>
            <form method="POST" action="/portfolio" class="flex space-x-4 mb-4">
                <input name="coin" placeholder="Coin (e.g., bitcoin)" class="bg-gray-700 p-2 rounded text-white w-1/3">
                <input name="amount" type="number" step="0.01" placeholder="Amount" class="bg-gray-700 p-2 rounded text-white w-1/3">
                <button type="submit" class="bg-blue-600 p-2 rounded hover:bg-blue-700 w-1/3">Add to Portfolio</button>
            </form>
            <div class="bg-gray-800 p-4 rounded-lg">
                {% if portfolio %}
                    {% for coin, amount in portfolio.items() %}
                        <div class="flex justify-between py-1">
                            <span>{{ coin.capitalize() }}: {{ amount }}</span>
                            <span>${{ (amount * prices[coin]['usd']) | round(2) }}</span>
                        </div>
                    {% endfor %}
                    <div class="border-t border-gray-700 mt-2 pt-2 font-bold">
                        Total: ${{ total_value | round(2) }}
                    </div>
                {% else %}
                    <p class="text-gray-400">No holdings yet. Add some coins!</p>
                {% endif %}
            </div>
        </section>
    </main>
</body>
</html>